# ================================
# AVALA LMS - Production Environment Configuration
# Phase 6: Deployment Protocol
# ================================

# ================================
# DOMAIN CONFIGURATION
# ================================
# Your production domain (e.g., avala.yourdomain.com)
DOMAIN=yourdomain.com

# ================================
# DATABASE CONFIGURATION
# ================================
# PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=public
POSTGRES_USER=avala_prod
POSTGRES_PASSWORD=CHANGE_ME_SECURE_PASSWORD_HERE
POSTGRES_DB=avala_production
POSTGRES_PORT=5432

# Full database URL (used by Prisma)
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB}?schema=public

# ================================
# JWT AUTHENTICATION
# ================================
# Secret key for JWT token signing (CRITICAL: Change this!)
# Generate with: openssl rand -base64 64
JWT_SECRET=CHANGE_ME_GENERATE_WITH_OPENSSL_RAND_BASE64_64

# Token expiration time (7d = 7 days, 1h = 1 hour, 30m = 30 minutes)
JWT_EXPIRES_IN=7d

# ================================
# SMTP EMAIL CONFIGURATION
# ================================
# SMTP server for sending emails (e.g., smtp.gmail.com, smtp.sendgrid.net)
SMTP_HOST=smtp.yourmailserver.com

# SMTP port (587 for TLS, 465 for SSL, 25 for unencrypted)
SMTP_PORT=587

# SMTP authentication credentials
SMTP_USER=your-smtp-username
SMTP_PASS=your-smtp-password

# Email sender address
SMTP_FROM="AVALA LMS" <noreply@yourdomain.com>

# ================================
# APPLICATION URLS
# ================================
# Public-facing web application URL
NEXT_PUBLIC_APP_URL=https://yourdomain.com

# Public-facing API URL
NEXT_PUBLIC_API_URL=https://api.yourdomain.com

# ================================
# DOCKER CONFIGURATION
# ================================
# Exposed ports (change if you need different ports)
WEB_PORT=3000
API_PORT=4000

# ================================
# OPTIONAL: ANALYTICS & MONITORING
# ================================
# Sentry DSN (for error tracking)
# SENTRY_DSN=

# Google Analytics ID
# GA_TRACKING_ID=

# ================================
# OPTIONAL: S3 STORAGE (For PDF certificates)
# ================================
# AWS S3 credentials (if using S3 for file storage)
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_REGION=us-east-1
# AWS_S3_BUCKET=avala-certificates

# ================================
# SECURITY NOTES
# ================================
# 1. NEVER commit this file with real values to git
# 2. Store production secrets in a secure password manager
# 3. Use strong, randomly generated passwords
# 4. Rotate JWT_SECRET periodically
# 5. Use environment-specific SMTP credentials
# 6. Enable 2FA on your email provider
# 7. Set up firewall rules to restrict database access
# 8. Regularly backup your PostgreSQL database
# 9. Monitor logs for suspicious activity
# 10. Keep Docker images updated

# ================================
# QUICK START COMMANDS
# ================================
# 1. Copy this file: cp .env.production.example .env
# 2. Edit .env and replace all CHANGE_ME values
# 3. Verify DNS records point to your server
# 4. Run: ./scripts/deploy.sh
